!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(e){const t={selector:".frame",duration:200,keyboard:!0,easing:"ease-out",horizontal:!1,startPage:1,onInit:function(){},onChange:function(){}};var o=e;for(var n in o)t[n]=o[n];return t}var o=window.OPS||{};o=function(){function o(o,n){var i=this;n.$this=e(o),n.refreshResizeTimeOut=!1,n.onePageFlag=!1,n._scrolled=0,n.documentClick=!1,i.settings=t(n),i.settings.currentPage=i.settings.startPage,i.settings.$childrens="string"==typeof i.settings.selector?e(i.settings.selector):i.settings.selector,e.extend(i,i.settings),i.init()}return o}(),o.prototype.init=function(){var t=this;t.renderPag(),e("body, html").css({overflow:"hidden"}),t.$this.css({transition:"top "+t.duration/1e3+"s, left "+t.duration/1e3+"s "+t.easing}),1==t.horizontal?t.$this.addClass("ops-horizontal"):t.$this.addClass("ops-vertical"),t.setPage("page",t.startPage),t.$this.bind("mousewheel",t,t.controller),t.$this.bind("touchstart",t,t.touch),e(window).bind("resize",t,t.windowResize),e(document).on("keydown",t,t.keydown),t.onInit.call(t)},o.prototype.destroy=function(){var t=this;e("body, html").css({overflow:"auto"}),t.$this.css({transition:""}),t.$this.unbind("mousewheel",t.controller),e("#ops-pagination").remove()},o.prototype.renderPag=function(){var t=this,o=e("body");if(t.$childrens.length){o.prepend('<div id="ops-pagination" class="ops-pagination"><div class="wrap"> <span class="runner" style="transition: top '+t.duration/1e3+"s,left "+t.duration/1e3+"s "+t.easing+'"></span> </div></div>');var n=e("#ops-pagination .wrap"),i="";t.$childrens.each(function(t){var o=e(this);i+='<div class="ops-pagination_item" page="'+t+'"> <div class="point"></div> <div class="hint">'+o.attr("one-page-hint")+"</div> </div>"}),e("#ops-pagination .ops-pagination_item:first").addClass("active"),n.append(i).find(".ops-pagination_item").bind("click",t,t.pagesNavEvent),1==t.horizontal?e("#ops-pagination").addClass("ops-pg-horizontal"):e("#ops-pagination").addClass("ops-pg-vertical"),e(document).on("mouseover","#ops-pagination .ops-pagination_item",function(o){var n=e("#ops-pagination .runner");0==t.horizontal?n.css({top:e(this).position().top+7+"px"}):n.css({left:e(this).position().left+8+"px"})}).on("mouseleave","#ops-pagination .ops-pagination_item",function(o){var n=e("#ops-pagination .runner");0==t.horizontal?n.css({top:e("#ops-pagination .active").position().top+7+"px"}):n.css({left:e("#ops-pagination .active").position().left+8+"px"})})}},o.prototype.setPage=function(t,o){var n=this,i=n.$this;if(n.onePageFlag)return!1;n.onePageFlag=!0;var a=i.find(n.selector+"[one-page-current='true']");if(void 0!==o){if(0==o)var o=1;if(o>n.$childrens.length)var o=n.$childrens.length;if(n.currentPage==o)var t="refresh";--o}if("page"==t&&void 0!==o)var r=e(n.$childrens[o]);else if("refresh"==t)var r=a;else if(t<0)var r=a.next(n.selector);else if(t>=0)var r=a.prev(n.selector);if(!r.length||"true"===r.attr("one-page-current")&&"refresh"!=t)n.onePageFlag=!1;else{0==n.horizontal?i.css({top:-r.position().top}):i.css({left:-r.position().left}),a.attr({"one-page-current":""}),r.attr({"one-page-current":"true"});r.attr("id");if(e("#ops-pagination .active").removeClass("active"),e(e("#ops-pagination .ops-pagination_item")[r.index()]).addClass("active"),e("#ops-pagination").is(":visible")){var s=e("#ops-pagination .runner");0==n.horizontal?s.css({top:e("#ops-pagination .active").position().top+7+"px"}):s.css({left:e("#ops-pagination .active").position().left+8+"px"})}setTimeout(function(){n.onePageFlag=!1,n._scrolled=n.horizontal?i.offset().left:i.offset().top,n.currentPage=r.index()+1,n.onChange.call(n)},n.duration)}},o.prototype.touch=function(t){var t=t.data,o=t.$this;t.documentClick=!0;var n=event.targetTouches[0];if(0==t.horizontal)var i=n.pageY,a=n.pageY-o.position().top;else var i=n.pageX,a=n.pageX-o.position().left;var r=e(document),s=function(e){t.documentClick=!1;var n=e.targetTouches[0];if(0==t.horizontal){var i=n.pageY-a;o.css({top:i+"px"})}else{var r=n.pageX-a;o.css({left:r+"px"})}},p=function(n){if(o=t.$this,r.unbind("touchmove",s),"click"==n.type&&(t.documentClick=!0),!t.documentClick){var a=e(t.selector+"[one-page-current='true']"),c=(a[0].getBoundingClientRect(),function(e){if(0==t.horizontal)var n=e.changedTouches[0].pageY,r=o.offset().top<0?-1*o.offset().top:0,s=Math.ceil(r/a.height());else var n=e.changedTouches[0].pageX,p=o.offset().left<0?-1*o.offset().left:0,s=Math.ceil(p/a.width());var c=i-n;i!=n&&(c>0&&s==t.currentPage&&++s,t.setPage("page",s))});setTimeout(function(){c(n)},t.duration),r.unbind("touchmove",s),r.unbind("click touchend",p)}};r.bind("touchmove",s),r.bind("click touchend",p)},o.prototype.controller=function(e){if("object"==typeof e)var t=e.data,o=e.deltaY;else var t=this,o=e;if(t.onePageFlag)return!1;t.scrollingTimeOut&&clearTimeout(t.scrollingTimeOut),t.scrollingTimeOut=setTimeout(function(){t.onePageFlag||t.setPage(o)},10)},o.prototype.keydown=function(e){var e=e.data;if(0!=e.keyboard){var t=event.keyCode;38==t&&!e.horizontal||37==t&&e.horizontal||33==t?e.controller(1):(40==t&&!e.horizontal||39==t&&e.horizontal||34==t)&&e.controller(-1)}},o.prototype.pagesNavEvent=function(t){var t=t.data,o=e(this);if(!o.hasClass("active")){var n=o.attr("page");e("#pages .active").removeClass("active"),e(e("#pages .page")[n]).addClass("active"),t.setPage("page",++n)}},o.prototype.windowResize=function(e){var e=e.data;e.refreshResizeTimeOut&&clearTimeout(e.refreshResizeTimeOut),e.refreshResizeTimeOut=setTimeout(function(){e.controller("refresh")},200)},o.prototype.scrolled=function(){return this._scrolled},o.prototype.current=function(){return this.currentPage},o.prototype.prev=function(){this.controller(1)},o.prototype.next=function(){this.controller(-1)},o.prototype.first=function(){this.setPage("page",0)},o.prototype.last=function(){var e=this;e.setPage("page",e.$childrens.length)},o.prototype.anchor=function(e){var t=this,o=t.$this.find(e).index();-1!==o&&t.setPage("page",o)},e.fn.onePageScroll=function(){var e,t,n=this,i=arguments[0],a=Array.prototype.slice.call(arguments,1),r=n.length;for(e=0;e<r;e++)if("object"==typeof i||void 0===i?n[e].onePageScroll=new o(n[e],i):t=n[e].onePageScroll[i].apply(n[e].onePageScroll,a),void 0!==t)return t;return n}}),$(".container").onePageScroll({selector:".frame",startPage:1,duration:300,horizontal:!1,keyboard:!0});